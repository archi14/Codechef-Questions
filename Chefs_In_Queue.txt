#include <iostream>
#include <bits/stdc++.h>
using namespace std;
#define M 1000000007

//using stack and traversing from the last to find the smallest element found till ith element, if that's smaller than the ith element then compute the fear,
//else put that on top of the stack.
int main() {
	int n,k;
	cin>>n>>k;
	int a[n];
	for(int i=0;i<n;i++)
	{
	    cin>>a[i];
	}
	int fear=1;
	stack<int> s;
	s.push(n-1);
	for(int i=n-2;i>=0;i--)
	{
	    if(a[s.top()]<a[i])
	    {
	        fear = ((fear%M)*(s.top()-i+1)%M)%M;
	    }else
	    {
	        s.push(i);
	    }
	}
	cout<<fear<<endl;
	
}
